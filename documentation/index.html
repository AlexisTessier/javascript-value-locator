<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>javascript-value-locator 1.0.0 | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation'>
  <div class='max-width-4 mx-auto'>
    <div class='clearfix md-mxn2'>
      <div class='fixed xs-hide fix-3 overflow-auto max-height-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>javascript-value-locator</h3>
          <div class='mb1'><code>1.0.0</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
              <li><a href='#introduction' class="">
                Introduction  
              </a></li>
              
              <li><a href='#purpose-and-use-cases' class="">
                Purpose and use cases  
              </a></li>
              
              <li><a href='#get-started' class="">
                Get started  
              </a></li>
              
              <li><a href='#about-the-documentation' class="">
                About the documentation  
              </a></li>
              
              <hr/>
              
                
                <li><a
                  href='#javascriptvaluelocator'
                  class="">
                  JavascriptValueLocator
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#javascriptvaluelocatorstring'
                  class="">
                  JavascriptValueLocatorString
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#javascriptvaluelocatorobject'
                  class="">
                  JavascriptValueLocatorObject
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#javascriptvaluelocatorprotocol'
                  class="">
                  JavascriptValueLocatorProtocol
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#javascript-value-locator'
                  class="">
                  javascript-value-locator
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#load'
                  class="">
                  load
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#setlocatordefaultprotocol'
                  class="">
                  setLocatorDefaultProtocol
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parse'
                  class="">
                  parse
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#stringify'
                  class="">
                  stringify
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#defaultprotocols'
                  class="">
                  defaultProtocols
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#require'
                  class="">
                  require
                  
                </a>
                
                </li>
              
            </ul>
          </div>
        </div>
      </div>
      <div class='fix-margin-3'>
        <section class='p2 mb2 clearfix bg-white minishadow'>
          <a href="/readme.html">Readme</a> - <a href="https://bitbucket.org/AlexisTessier/javascript-value-locator#readme" target="_blank">Github</a>
        </section>
        
          <section class='p2 mb2 clearfix bg-white minishadow'>
            <div class="clearfix">
              <h3 id='introduction' class='fl m0'>
                Introduction
              </h3>
              <p>This module provide a minimalist api to load (<strong>asynchronously only</strong>) javascript values from different sources, using <strong>javascript value locators</strong> - <strong><em>JVL</em></strong>. A <strong><em>JVL</em></strong> is an object or a string (matching a specific format), which represent a way to load a javascript value. It&#39;s composed both of a <strong>protocol</strong> and a <strong>target</strong>.</p>
<pre><code class="lang-javascript">// this is a jvl object
{
    protocol: &#39;protocol-name&#39;,
    target: &#39;full/path/to/module/exporting/the/targeted/value&#39;
}

// this is the equivalent jvl string
&#39;protocol-name:full/path/to/module/exporting/the/targeted/value&#39;
</code></pre>
<p>You can see this module as a kind of <a href="https://webpack.js.org/">webpack</a> at the run time, where protocols are loaders, and where instead of doing this :</p>
<pre><code class="lang-javascript">require.ensure([], require =&gt; {
    const value = require(&#39;module/path&#39;);

    // do something with the value
})
</code></pre>
<p>You do this : <a name="introduction-examples"></a></p>
<pre><code class="lang-javascript">const jvl = require(&#39;javascript-value-locator&#39;);

jvl.load(&#39;require:module/path&#39;).then(value =&gt; {
    // do something with the value
})
</code></pre>
<p>And for example, if you want to load a yaml, you could use a specific protocol, as you would have used a yaml-loader in webpack</p>
<pre><code class="lang-javascript">const jvl = require(&#39;javascript-value-locator&#39;);

/**
 * Assuming that a &quot;require-yaml&quot; protocol was defined in the first place
 * (which is currently not the case)
 */
jvl.load(&#39;require-yaml:module/path.yaml&#39;).then(value =&gt; {
    // do something with the value
})
</code></pre>
<p><strong><em>Note that the comparison with webpack is only here for explanatory purpose, this module doesn&#39;t aim the same use cases.</em></strong></p>

            </div>
          </section>
        
          <section class='p2 mb2 clearfix bg-white minishadow'>
            <div class="clearfix">
              <h3 id='purpose-and-use-cases' class='fl m0'>
                Purpose and use cases
              </h3>
              <p>The <a href="#introduction-examples">previous examples</a> are here only for the sake of explaining the module basic usage. If you want to require a module in node.js, you should more than probably just do a require (unless you want to load it asynchronously).
<strong><em>The following use case is the one for what the module was created in the first place</em></strong>.</p>
<ul>
<li>Use the JVL string format to &quot;require&quot; a module in a cli command option</li>
</ul>
<p>Assuming you want to provide a command with an option which can be a javascript value. If the option is a number, it&#39;s ok to do that :</p>
<pre><code>cli command input --javascript-value-option=5
</code></pre><p>But if the option is a complex/dynamic object, using JVL allow you to do that :</p>
<pre><code>cli command input --javascript-value-option=require:full/path/to/module
</code></pre><p>The cli users have in that way a more fine control over the module he wants use to do some task.
A logger module is a good example. Imagine you implement a cli command which only log the input, you could have something like : <a name="custom-protocols-example"></a></p>
<pre><code class="lang-javascript">// ./load-override.js
// create a custom load function

const path = require(&#39;path&#39;);
const {load, setLocatorDefaultProtocol, defaultProtocols} = require(&#39;javascript-value-locator&#39;);

module.exports = function customLoad(locator, options){
    // if the locator is an object and doesn&#39;t have protocol property, 
    // or if it&#39;s a string without protocol ahead, the &#39;custom-protocol&#39; will be used

    return load(setLocatorDefaultProtocol(locator, &#39;custom-protocol&#39;), options, {
        protocols: Object.assign({}, defaultProtocols, {
            [&#39;custom-protocol&#39;](resolve, reject, target){

                // define a way to &quot;require&quot; the javascript value targeted
                // for instance, require the path from a custom directory
                // It will allow to provide some built-in log functions

                defaultProtocols.require(resolve, reject,
                    path.join(__dirname, &#39;../custom/directory/path&#39;, target)
                );
            }
        })
    })
}
</code></pre>
<pre><code class="lang-javascript">// ./log-command.js
// then use the custom load function in your log command implementation

const load = require(&#39;./load-override&#39;);

module.exports = async function logCommand(
    input,
    log = (...logs) =&gt; console.log(...logs) // provide a default logger
){
    // enable silent mode
    if(log === false){
        log = ()=&gt;{};
    }

    // enable the user to directly use a function as log option
    if(typeof log !== &#39;function&#39;){
        log = await load(log);
    }

    assert(typeof log === &#39;function&#39;);

    return log(input);
}
</code></pre>
<p>Make the cli implementation which will call this async function, then your users can do :</p>
<ul>
<li>this will use a simple console.log</li>
</ul>
<pre><code>cli log &quot;hello world&quot;
</code></pre><ul>
<li>this will not log anything</li>
</ul>
<pre><code>cli log &quot;hello world&quot; --log=false
</code></pre><ul>
<li>this will use a built-in logger defined in custom/directory/path</li>
</ul>
<pre><code>cli log &quot;hello world&quot; --log=custom-protocol:log-one
</code></pre><ul>
<li>this will use an other built-in logger defined in custom/directory/path</li>
</ul>
<pre><code>cli log &quot;hello world&quot; --log=log-two
</code></pre><ul>
<li>this will use a logger defined by the user</li>
</ul>
<pre><code>cli log &quot;hello world&quot; --log=require:path/to/a/custom/logger
</code></pre><h5 id="speculative-use-cases">Speculative use cases</h5>
<p>The module wasn&#39;t thinked in order to do that, but it may could be used to accomplish some of these things :</p>
<ul>
<li><p>Create and use some custom protocols able to load javascript from the cloud</p>
</li>
<li><p>Use in the browser to load assets (still with custom protocols)</p>
</li>
<li><p>And probably more...</p>
</li>
</ul>

            </div>
          </section>
        
          <section class='p2 mb2 clearfix bg-white minishadow'>
            <div class="clearfix">
              <h3 id='get-started' class='fl m0'>
                Get started
              </h3>
              <h4 id="install">Install</h4>
<ul>
<li>using npm</li>
</ul>
<pre><code>npm install --save javascript-value-locator
</code></pre><ul>
<li>or using yarn</li>
</ul>
<pre><code>yarn add javascript-value-locator
</code></pre><h4 id="load-one-or-more-values-from-jvl">Load one or more values from JVL</h4>
<p>TO DO - <a href="#load">see the load function documentation for now</a></p>
<h4 id="available-protocols">Available protocols</h4>
<p>Currently, the only implemented protocol is the <a href="#require">require</a>. If needed, <a href="#use-custom-protocols">add others</a> and eventually open a issue or event better, a PR.</p>
<h4 id="use-custom-protocols">Use custom protocols</h4>
<p>You can use the inject.protocols option of the <a href="#load">load function</a>. <a href="#custom-protocols-example">Look here for concrete example</a>.</p>
<h4 id="load-a-value-synchronously">Load a value synchronously</h4>
<p>JVL is not aimed to do that.</p>

            </div>
          </section>
        
          <section class='p2 mb2 clearfix bg-white minishadow'>
            <div class="clearfix">
              <h3 id='about-the-documentation' class='fl m0'>
                About the documentation
              </h3>
              <p>The following documentation was generated using <a href="http://documentation.js.org/">documentation.js</a> and is also available in a more interactive format <a href="/index.html">here : url</a></p>
<h4 id="naming-conventions">Naming conventions</h4>
<ul>
<li><p>CapitalizedCamelCasedNames are used for <a href="https://en.wikipedia.org/wiki/Duck_typing">types</a></p>
</li>
<li><p>dashified-case-names are used for filenames</p>
</li>
<li><p>camelCasedNames are used for methods and properties</p>
</li>
</ul>

            </div>
          </section>
        
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='javascriptvaluelocator'>
      JavascriptValueLocator
    </h3>
    
    
  </div>
  

  <p>A JavascriptValueLocator (JVL) is a <a href="#javascriptvaluelocatorstring">string</a> or an <a href="#javascriptvaluelocatorobject">object</a> which describe a way to access to a javascript value.
It must provide at least:</p>
<ul>
<li><a href="#javascriptvaluelocatorprotocol">A protocol (JavascriptValueLocatorProtocol)</a> </li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">A target as a string</a></li>
</ul>

  
  
  
    <p>
      Type:
      (<a href="#javascriptvaluelocatorstring">JavascriptValueLocatorString</a> | <a href="#javascriptvaluelocatorobject">JavascriptValueLocatorObject</a>)
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='javascriptvaluelocatorstring'>
      JavascriptValueLocatorString
    </h3>
    
    
  </div>
  

  <p>A JavascriptValueLocatorString (JVL string) is a string which describe a way to access to a javascript value. It must matches the following format:</p>
<ul>
<li>protocol-name:target-name <a href="#javascriptvaluelocator">see JavascriptValueLocator</a></li>
</ul>

  
  
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Those are valid JVL strings</span>
<span class="hljs-string">"require:/path/to/file"</span>
<span class="hljs-string">"any-defined-protocol-name:any-target-name_case is-NotImportant"</span>

<span class="hljs-comment">// Those are unvalid JVL strings</span>
<span class="hljs-string">":target-name"</span> <span class="hljs-comment">// Missing protocol</span>
<span class="hljs-string">"protocol-name"</span> <span class="hljs-comment">// Missing target</span></pre>
    
  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='javascriptvaluelocatorobject'>
      JavascriptValueLocatorObject
    </h3>
    
    
  </div>
  

  <p>A JavascriptValueLocatorObject is an object which describe a way to access to a javascript value.</p>

  
  
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
    </p>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>protocol</span> <code class='quiet'>((<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="#javascriptvaluelocatorprotocol">JavascriptValueLocatorProtocol</a>))</code>
          : The name of the protocol or the protocol himself (as a function which respect the 
<a href="#javascriptvaluelocatorprotocol">JavascriptValueLocatorProtocol definition</a>
)

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>target</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          : The javascript value targeted.

          
        </div>
      
    </div>
  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='javascriptvaluelocatorprotocol'>
      JavascriptValueLocatorProtocol
    </h3>
    
    
  </div>
  

  <p>A JavascriptValueLocatorProtocol is a function which take the following arguments (resolve, reject, target, options) and resolve the targeted javascript value or reject an error</p>

  
  
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>
    </p>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>resolve</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>)</code>
	    A resolve function which will be called with the targeted javascript value as single argument

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>reject</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>)</code>
	    A reject function which will be called with a error as single argument if the javascript value load failed

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>target</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The target to load and resolve. A target must be a unique identifier/path (or maybe other things depending on the used protocol) to the requested javascript value. You must use it to know which value is requested

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The options passed to the protocol.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='javascript-value-locator'>
      javascript-value-locator
    </h3>
    
    
  </div>
  

  <p>The JVL API is an object providing the following properties:</p>
<ul>
<li><a href="#load">load</a></li>
<li><a href="#setlocatordefaultprotocol">setLocatorDefaultProtocol</a></li>
<li><a href="#parse">parse</a></li>
<li><a href="#stringify">stringify</a></li>
<li><a href="#defaultprotocols">defaultProtocols</a></li>
</ul>

  
  
  
  

  
  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// require the public API</span>
<span class="hljs-keyword">const</span> JVL = <span class="hljs-built_in">require</span>(<span class="hljs-string">'javascript-value-locator'</span>)
<span class="hljs-comment">// then use a method of the API</span>
JVL.load(<span class="hljs-string">'npm:string-humanize@1.0.0'</span>).then(<span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(_(<span class="hljs-string">'hello-world'</span>))) <span class="hljs-comment">// Hello world</span></pre>
    
  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='load'>
      load
    </h3>
    
    
  </div>
  

  <p>This function loads a javascript value in a async way</p>

  
  
  <div class='pre p1 fill-light mt0'>load(locator: (<a href="#javascriptvaluelocator">JavascriptValueLocator</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#javascriptvaluelocator">JavascriptValueLocator</a>>), options: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>?, inject: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>?): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>locator</span> <code class='quiet'>((<a href="#javascriptvaluelocator">JavascriptValueLocator</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#javascriptvaluelocator">JavascriptValueLocator</a>>))</code>
	    A javascript value locator as an object or a string which follow the JVL format. Can also be an Array of locators.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>?
            = <code>{}</code>)</code>
	    The javascript options object which will be passed to the locator protocol function. If locator is an object, it can provide directly an options object which will be merged with the options parameter.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>inject</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>?
            = <code>{}</code>)</code>
	    A javascript object containing the load function dependencies.

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
                  <td class='break-word'><span class='code bold'>inject.protocols</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></code>
                  
                    (default <code>defaultProtocols</code>)
                  </td>
                  <td class='break-word'><span>A Dictionnary where keys are the names of the protocols and value are the protocols functions. If locator is an object, it can provide directly a protocols key which will be merged with the inject.protocols parameter.
</span></td>
                </tr>
              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        A promise resolving the javascript value targeted by the locator. If locator was an Array, the promise resolve an Array containing all the targeted values in the same order as defined.

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='setlocatordefaultprotocol'>
      setLocatorDefaultProtocol
    </h3>
    
    
  </div>
  

  <p>This function returns a locator with the specified default protocol if the input locator doesn't provide one</p>

  
  
  <div class='pre p1 fill-light mt0'>setLocatorDefaultProtocol(locator: ((<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>) | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)>), defaultProtocol: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): (<a href="#javascriptvaluelocator">JavascriptValueLocator</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#javascriptvaluelocator">JavascriptValueLocator</a>>)</div>
  
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>locator</span> <code class='quiet'>(((<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>) | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)>))</code>
	    A potential JVL which must at least provide a target. It will be transformed in a valid JVL. If it's an Array, the function will return an Array of valid JVL. The output JVl will keep the type of the original input locator

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>defaultProtocol</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    If no protocol is found in the locator, then the default protocol will be setted as the current locator protocol. Note that you can't provide a protocol as a function using the setLocatorDefaultProtocol function.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="#javascriptvaluelocator">JavascriptValueLocator</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#javascriptvaluelocator">JavascriptValueLocator</a>>)</code>:
        The corresponding locator as an object.

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parse'>
      parse
    </h3>
    
    
  </div>
  

  <p>This function returns a locator object from a JVL string</p>

  
  
  <div class='pre p1 fill-light mt0'>parse(JVL: <a href="#javascriptvaluelocatorstring">JavascriptValueLocatorString</a>): <a href="#javascriptvaluelocatorobject">JavascriptValueLocatorObject</a></div>
  
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>JVL</span> <code class='quiet'>(<a href="#javascriptvaluelocatorstring">JavascriptValueLocatorString</a>)</code>
	    The locator as string to parse.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#javascriptvaluelocatorobject">JavascriptValueLocatorObject</a></code>:
        The corresponding locator as an object.

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='stringify'>
      stringify
    </h3>
    
    
  </div>
  

  <p>This function transforms a locator object to a JVL string</p>

  
  
  <div class='pre p1 fill-light mt0'>stringify(locator: <a href="#javascriptvaluelocatorobject">JavascriptValueLocatorObject</a>): <a href="#javascriptvaluelocatorstring">JavascriptValueLocatorString</a></div>
  
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>locator</span> <code class='quiet'>(<a href="#javascriptvaluelocatorobject">JavascriptValueLocatorObject</a>)</code>
	    The locator object to stringify.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#javascriptvaluelocatorstring">JavascriptValueLocatorString</a></code>:
        The corresponding JVL string.

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='defaultprotocols'>
      defaultProtocols
    </h3>
    
    
  </div>
  

  <p>This object contains the defaults protocols defined by the javascript-value-locator package :</p>
<ul>
<li><a href="#require">require</a></li>
</ul>
<p>You can use it, for example, in order to create a new load functions with new custom protocols.</p>

  
  
  
  

  
  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">//import the load function and the default-protocols</span>
<span class="hljs-keyword">const</span> {load, defaultProtocols} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'javascript-value-locator'</span>)

<span class="hljs-comment">//define some custom protocols</span>
<span class="hljs-keyword">const</span> customProtocols = {
    <span class="hljs-attr">newProtocol</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject, target, options</span>)</span>{
        resolve(getTheValueUsingTheTargetAndOptions)
        <span class="hljs-comment">//or</span>
        reject()
    }
}

<span class="hljs-comment">//create and export a function which call the original function,</span>
<span class="hljs-comment">//but passing to it a new protocols object dependency</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">customLoad</span>(<span class="hljs-params">locator, options</span>)</span>{
    <span class="hljs-keyword">return</span> load(locator, options, {
        <span class="hljs-attr">protocols</span>: <span class="hljs-built_in">Object</span>.assign({}, defaultProtocols, customProtocols)
    })
}</pre>
    
  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='require'>
      require
    </h3>
    
    
  </div>
  

  <p>This function is a <a href="#javascriptvaluelocatorprotocol">JavascriptValueLocatorProtocol</a> that use the node require function to load the target</p>

  
  
  <div class='pre p1 fill-light mt0'>require(resolve: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>, reject: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>, target: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>resolve</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>)</code>
	    A resolve function which will be called with the targeted javascript value as single argument

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>reject</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>)</code>
	    A reject function which will be called with a error as single argument if the javascript value load failed

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>target</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The target to load and resolve. It must be a path to a valid node module.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
